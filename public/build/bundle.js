var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(){return d("")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e,n){t.classList[n?"add":"remove"](e)}let v;function w(t){v=t}function b(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,l)}))}}}const $=[],z=[],_=[],E=[],x=Promise.resolve();let L=!1;function A(t){_.push(t)}let j=!1;const O=new Set;function N(){if(!j){j=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];w(e),C(e.$$)}for(w(null),$.length=0;z.length;)z.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];O.has(e)||(O.add(e),e())}_.length=0}while($.length);for(;E.length;)E.pop()();L=!1,j=!1,O.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const T=new Set;let H;function M(){H={r:0,c:[],p:H}}function F(){H.r||o(H.c),H=H.p}function S(t,e){t&&t.i&&(T.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),H.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function J(t){t&&t.c()}function K(t,n,r){const{fragment:a,on_mount:c,on_destroy:i,after_update:s}=t.$$;a&&a.m(n,r),A((()=>{const n=c.map(e).filter(l);i?i.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(A)}function R(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&($.push(t),L||(L=!0,x.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,l,r,a,c,s,u=[-1]){const f=v;w(e);const d=l.props||{},p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let m=!1;if(p.ctx=r?r(e,d,((t,n,...o)=>{const l=o.length?o[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=l)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](l),m&&W(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();l.intro&&S(e.$$.fragment),K(e,l.target,l.anchor),N()}w(f)}class D{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(t,e,n){const o=t.slice();return o[5]=e[n],o}function q(t){let e,n,o,l,r=t[5].label+"";function s(...e){return t[3](t[5],...e)}return{c(){e=u("button"),n=d(r),h(e,"class","button btn btn-sm svelte-973bi8"),k(e,"btn-primary",t[1]===t[5].value),k(e,"btn-secondary",t[1]!==t[5].value)},m(t,r){c(t,e,r),a(e,n),o||(l=g(e,"click",s),o=!0)},p(o,l){t=o,1&l&&r!==(r=t[5].label+"")&&y(n,r),3&l&&k(e,"btn-primary",t[1]===t[5].value),3&l&&k(e,"btn-secondary",t[1]!==t[5].value)},d(t){t&&i(e),o=!1,l()}}}function G(e){let n,o=e[0],l=[];for(let t=0;t<o.length;t+=1)l[t]=q(Q(e,o,t));return{c(){n=u("div");for(let t=0;t<l.length;t+=1)l[t].c();h(n,"class","toggle-buttons svelte-973bi8")},m(t,e){c(t,n,e);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(7&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const a=Q(t,o,r);l[r]?l[r].p(a,e):(l[r]=q(a),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}},i:t,o:t,d(t){t&&i(n),s(l,t)}}}function P(t,e,n){let{items:o}=e,{value:l=null}=e;const r=b();function a(t){r("change",t.value)}return t.$$set=t=>{"items"in t&&n(0,o=t.items),"value"in t&&n(1,l=t.value)},[o,l,a,t=>a(t)]}class I extends D{constructor(t){super(),B(this,t,P,G,r,{items:0,value:1})}}function U(e){let n,l,r,s,f,m,k,v,w;return{c(){n=u("div"),l=u("button"),l.textContent="-",r=p(),s=u("div"),f=d(e[0]),m=p(),k=u("button"),k.textContent="+",h(l,"class","decrement btn btn-primary svelte-v7ytgn"),h(s,"class","value svelte-v7ytgn"),h(k,"class","increment btn btn-primary svelte-v7ytgn"),h(n,"class","number-picker svelte-v7ytgn")},m(t,o){c(t,n,o),a(n,l),a(n,r),a(n,s),a(s,f),a(n,m),a(n,k),v||(w=[g(l,"click",e[1]),g(k,"click",e[2])],v=!0)},p(t,[e]){1&e&&y(f,t[0])},i:t,o:t,d(t){t&&i(n),v=!1,o(w)}}}function V(t,e,n){let{max:o=99}=e,{value:l=null}=e;const r=b();return t.$$set=t=>{"max"in t&&n(3,o=t.max),"value"in t&&n(0,l=t.value)},[l,function(){null===l&&r("change",0),l>0&&r("change",l-1)},function(){null===l&&r("change",0),(null==o||l<o)&&r("change",l+1)},o]}class X extends D{constructor(t){super(),B(this,t,V,U,r,{max:3,value:0})}}function Y(e){let n,o,l,r,s,f,m,k,v,w,b,$,z,_=(e[0]||"Brak wskazówki :-(")+"";return{c(){n=u("div"),o=u("div"),l=p(),r=u("div"),s=u("div"),f=u("div"),m=d(e[1]),k=p(),v=u("div"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',w=p(),b=u("div"),h(o,"class","overlay svelte-1u38jbh"),h(v,"class","close-icon svelte-1u38jbh"),h(f,"class","header svelte-1u38jbh"),h(b,"class","body svelte-1u38jbh"),h(s,"class","tooltip-content svelte-1u38jbh"),h(r,"class","modal-container svelte-1u38jbh"),h(n,"class","modal-tooltip svelte-1u38jbh")},m(t,i){c(t,n,i),a(n,o),a(n,l),a(n,r),a(r,s),a(s,f),a(f,m),a(f,k),a(f,v),a(s,w),a(s,b),b.innerHTML=_,$||(z=g(v,"click",e[3]),$=!0)},p(t,[e]){2&e&&y(m,t[1]),1&e&&_!==(_=(t[0]||"Brak wskazówki :-(")+"")&&(b.innerHTML=_)},i:t,o:t,d(t){t&&i(n),$=!1,z()}}}function tt(t,e,n){const o=b();let{text:l}=e,{heading:r="Wskazówka"}=e;return t.$$set=t=>{"text"in t&&n(0,l=t.text),"heading"in t&&n(1,r=t.heading)},[l,r,o,()=>o("close")]}class et extends D{constructor(t){super(),B(this,t,tt,Y,r,{text:0,heading:1})}}function nt(t){let e,n;return e=new et({props:{text:t[0],heading:t[1]}}),e.$on("close",t[5]),{c(){J(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.text=t[0]),2&n&&(o.heading=t[1]),e.$set(o)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ot(t){let e,n,o,l,r,s,d,y,k,v,w,b=t[3]&&nt(t);return{c(){e=u("div"),n=u("span"),o=f("svg"),l=f("circle"),r=f("line"),s=f("line"),d=p(),b&&b.c(),y=m(),h(l,"cx","12"),h(l,"cy","12"),h(l,"r","10"),h(r,"x1","12"),h(r,"y1","16"),h(r,"x2","12"),h(r,"y2","12"),h(s,"x1","12"),h(s,"y1","8"),h(s,"x2","12.01"),h(s,"y2","8"),h(o,"xmlns","http://www.w3.org/2000/svg"),h(o,"width",t[2]),h(o,"height",t[2]),h(o,"viewBox","0 0 24 24"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-width","2"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"class","feather feather-info"),h(n,"class","icon svelte-1hvjlg5"),h(e,"class","tooltip-icon svelte-1hvjlg5")},m(i,u){c(i,e,u),a(e,n),a(n,o),a(o,l),a(o,r),a(o,s),c(i,d,u),b&&b.m(i,u),c(i,y,u),k=!0,v||(w=g(n,"click",t[4]),v=!0)},p(t,[e]){(!k||4&e)&&h(o,"width",t[2]),(!k||4&e)&&h(o,"height",t[2]),t[3]?b?(b.p(t,e),8&e&&S(b,1)):(b=nt(t),b.c(),S(b,1),b.m(y.parentNode,y)):b&&(M(),Z(b,1,1,(()=>{b=null})),F())},i(t){k||(S(b),k=!0)},o(t){Z(b),k=!1},d(t){t&&i(e),t&&i(d),b&&b.d(t),t&&i(y),v=!1,w()}}}function lt(t,e,n){let{text:o}=e,{heading:l="Wskazówka"}=e,{size:r=16}=e,a=!1;return t.$$set=t=>{"text"in t&&n(0,o=t.text),"heading"in t&&n(1,l=t.heading),"size"in t&&n(2,r=t.size)},[o,l,r,a,()=>n(3,a=!0),()=>n(3,a=!1)]}class rt extends D{constructor(t){super(),B(this,t,lt,ot,r,{text:0,heading:1,size:2})}}const at=t=>{let e=(t||"").replace(/`([a-zA-Z0-9 ]+)`/gi,'<span class="tooltip-card-symbol">$1</span>');return e=(e||"").replace(/_([a-zA-Z0-9 ]+)_/gi,'<span class="tooltip-score">$1</span>'),e.includes("\\")?'<p class="tooltip-paragraph">'+e.split(/\\/).join('</p><p class="tooltip-paragraph">')+"</p>":e};var ct,it;!function(t){t.RED_THREE="RED_THREE"}(ct||(ct={})),function(t){t.NONE="no",t.SOME="some",t.ALL="all",t.ALL_AT_ONCE="all-at-once"}(it||(it={}));const st=[{label:"Żadne",value:it.NONE},{label:"Część",value:it.SOME},{label:"Wszystkie",value:it.ALL},{label:"Wszystkie od razu",value:it.ALL_AT_ONCE}],ut=[{label:"Kanasty i czerwone trójki",fields:[{label:"Kanasty z dzikich kart",count:0,score:1e3,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdą wyłożoną kanastę złożoną wyłącznie z dzikich kart (`Joker` lub `2`) gracz otrzymuje _1000_ punktów.")},{label:"Kanasty naturalne",count:0,score:500,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdą wyłożoną kanastę naturalną (bez dzikich kart) gracz otrzymuje _500_ punktów.")},{label:"Kanasty mieszane",count:0,score:300,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at('Za każdą wyłożoną kanastę mieszaną (zawierającą "zwykłe" oraz dzikie karty) gracz otrzymuje _300_ punktów.')},{label:"Czerwone 3",count:0,maxCount:4,score:300,visibleFor:[it.NONE,it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Jeżeli gracz wyłożył na stół jakiekolwiek karty (oprócz czerwonych `3`) to:\\- za każdą wyłożoną czerwoną `3` otrzymuje _100_ punktów.\\- jeżeli wyłożył wszystkie cztery czerwone `3`, to otrzymuje _800_ punktów.\\Jeżeli gracz poza czerwonymi `3` nie wyłożył na stół jakiekolwiek karty to:\\- za każdą wyłożoną czerwoną `3` traci _100_ punktów.\\- jeżeli wyłożył wszystkie cztery czerwone `3`, to traci _800_ punktów.\\"),specialFieldType:ct.RED_THREE}]},{label:"Karty na stole",fields:[{label:"Jokery na stole",count:0,score:50,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdego wyłożonego `Joker`a gracz otrzymuje _50_ punktów.")},{label:"A i 2 na stole",count:0,score:20,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdą wyłożoną kartę `A` i `2` gracz otrzymuje _20_ punktów.")},{label:"K, Q, J, 10, 9, 8 na stole",count:0,score:10,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdą wyłożoną kartę `K`, `Q`, `J`, `10`, `9` lub `8` gracz otrzymuje _10_ punktów.")},{label:"7, 6, 5, 4, 3 na stole",count:0,score:5,visibleFor:[it.SOME,it.ALL,it.ALL_AT_ONCE],tooltipHtml:at("Za każdą wyłożoną kartę `7`, `6`, `5`, `4` lub czarną `3` gracz otrzymuje _5_ punktów.")}]},{label:"Karty w ręku",fields:[{label:"Jokery na ręce",count:0,score:-50,visibleFor:[it.SOME,it.NONE],tooltipHtml:at("Za każdego pozostałego na ręce `Joker`a gracz traci _50_ punktów.")},{label:"A i 2 na ręce",count:0,score:-20,visibleFor:[it.SOME,it.NONE],tooltipHtml:at("Za każdą pozostałą na ręce kartę `A` i `2` gracz traci _20_ punktów.")},{label:"K, Q, J, 10, 9, 8 na ręce",count:0,score:-10,visibleFor:[it.SOME,it.NONE],tooltipHtml:at("Za każdą pozostałą na ręce kartę `K`, `Q`, `J`, `10`, `9` lub `8` gracz traci _10_ punktów.")},{label:"7, 6, 5, 4, 3 na ręce",count:0,score:-5,visibleFor:[it.SOME,it.NONE],tooltipHtml:at("Za każdą pozostałą na ręce kartę `7`, `6`, `5`, `4` lub czarną `3` gracz traci _5_ punktów.")}]}],ft=at("Za wyłożenie wszystkich kart gracz otrzymuje _100_ punktów.\\Za wyłożenie wszystkich kart w jednej kolejce gracz otrzymuje _200_ punktów.\\Za wyłożenie tylko cześci lub nie wyłożenie żadnych kart (poza czerwonymi `3`) gracz nie otrzymuje punktów."),dt=at("Gdy gracz wykłana karty na stół pierwszy raz w danym rozdaniu, to suma punktów wyłożonych kart musi wynosić minimum:\\ - _15_  - jeśli gracz ma mniej niż 0 punktów\\ - _50_  - jeśli gracz ma od 0 do 1495 punktów\\ - _90_  - jeśli gracz ma od 1500 do 2995 punktów\\ - _120_ - jeśli gracz ma 3000 punktów lub więcej");function pt(t,e,n){const o=t.slice();return o[11]=e[n],o}function mt(t,e,n){const o=t.slice();return o[8]=e[n],o}function gt(t){let e,n,o,l,r=t[8].fields,a=[];for(let e=0;e<r.length;e+=1)a[e]=yt(pt(t,r,e));const f=t=>Z(a[t],1,1,(()=>{a[t]=null}));return{c(){e=u("div"),n=p(),o=u("div");for(let t=0;t<a.length;t+=1)a[t].c();h(e,"class","separator svelte-19nv0yw"),h(o,"class","two-columns svelte-19nv0yw")},m(t,r){c(t,e,r),c(t,n,r),c(t,o,r);for(let t=0;t<a.length;t+=1)a[t].m(o,null);l=!0},p(t,e){if(35&e){let n;for(r=t[8].fields,n=0;n<r.length;n+=1){const l=pt(t,r,n);a[n]?(a[n].p(l,e),S(a[n],1)):(a[n]=yt(l),a[n].c(),S(a[n],1),a[n].m(o,null))}for(M(),n=r.length;n<a.length;n+=1)f(n);F()}},i(t){if(!l){for(let t=0;t<r.length;t+=1)S(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);l=!1},d(t){t&&i(e),t&&i(n),t&&i(o),s(a,t)}}}function ht(t){let e,n,o,l,r,s,f,m,g,k=t[11].label+"";return r=new rt({props:{text:t[11].tooltipHtml,heading:t[11].label}}),m=new X({props:{value:t[11].count,max:t[11].maxCount}}),m.$on("change",(function(...e){return t[6](t[11],...e)})),{c(){e=u("div"),n=u("div"),o=d(k),l=p(),J(r.$$.fragment),s=d(":"),f=p(),J(m.$$.fragment),h(n,"class","field-label svelte-19nv0yw"),h(e,"class","row svelte-19nv0yw")},m(t,i){c(t,e,i),a(e,n),a(n,o),a(n,l),K(r,n,null),a(n,s),a(e,f),K(m,e,null),g=!0},p(e,n){t=e,(!g||1&n)&&k!==(k=t[11].label+"")&&y(o,k);const l={};1&n&&(l.text=t[11].tooltipHtml),1&n&&(l.heading=t[11].label),r.$set(l);const a={};1&n&&(a.value=t[11].count),1&n&&(a.max=t[11].maxCount),m.$set(a)},i(t){g||(S(r.$$.fragment,t),S(m.$$.fragment,t),g=!0)},o(t){Z(r.$$.fragment,t),Z(m.$$.fragment,t),g=!1},d(t){t&&i(e),R(r),R(m)}}}function yt(t){let e,n,o=t[11].visibleFor.includes(t[1]),l=o&&ht(t);return{c(){l&&l.c(),e=m()},m(t,o){l&&l.m(t,o),c(t,e,o),n=!0},p(t,n){3&n&&(o=t[11].visibleFor.includes(t[1])),o?l?(l.p(t,n),3&n&&S(l,1)):(l=ht(t),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(M(),Z(l,1,1,(()=>{l=null})),F())},i(t){n||(S(l),n=!0)},o(t){Z(l),n=!1},d(t){l&&l.d(t),t&&i(e)}}}function kt(t){let e,n,o=t[8].fields.reduce(wt,[]).includes(t[1]),l=o&&gt(t);return{c(){l&&l.c(),e=m()},m(t,o){l&&l.m(t,o),c(t,e,o),n=!0},p(t,n){3&n&&(o=t[8].fields.reduce(wt,[]).includes(t[1])),o?l?(l.p(t,n),3&n&&S(l,1)):(l=gt(t),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(M(),Z(l,1,1,(()=>{l=null})),F())},i(t){n||(S(l),n=!0)},o(t){Z(l),n=!1},d(t){l&&l.d(t),t&&i(e)}}}function vt(t){let e,n,o,l,r,f,m,k,v,w,b,$,z,_,E,x,L,A,j,O,N,C,T;f=new rt({props:{text:ft,heading:"Wyłożone karty"}}),k=new I({props:{items:st,value:t[1]}}),k.$on("change",t[4]);let H=t[0],W=[];for(let e=0;e<H.length;e+=1)W[e]=kt(mt(t,H,e));const B=t=>Z(W[t],1,1,(()=>{W[t]=null}));return L=new rt({props:{text:dt,heading:"Minimalna ilość punktów",size:24}}),{c(){e=u("div"),n=u("div"),o=u("div"),l=u("div"),r=d("Wyłożono karty: "),J(f.$$.fragment),m=p(),J(k.$$.fragment),v=p();for(let t=0;t<W.length;t+=1)W[t].c();w=p(),b=u("div"),$=u("div"),z=d("Wynik: "),_=u("span"),E=d(t[2]),x=p(),J(L.$$.fragment),A=p(),j=u("div"),O=u("button"),O.textContent="Wyczyść",h(l,"class","field-label svelte-19nv0yw"),h(o,"class","row svelte-19nv0yw"),h(_,"class","score-value svelte-19nv0yw"),h($,"class","score"),h(O,"class","btn btn-primary"),h(j,"class","reset-button"),h(b,"class","footer panel panel-dark svelte-19nv0yw"),h(n,"class","form svelte-19nv0yw"),h(e,"class","calculator")},m(i,s){c(i,e,s),a(e,n),a(n,o),a(o,l),a(l,r),K(f,l,null),a(o,m),K(k,o,null),a(n,v);for(let t=0;t<W.length;t+=1)W[t].m(n,null);a(n,w),a(n,b),a(b,$),a($,z),a($,_),a(_,E),a(b,x),K(L,b,null),a(b,A),a(b,j),a(j,O),N=!0,C||(T=g(O,"click",t[3]),C=!0)},p(t,[e]){const o={};if(2&e&&(o.value=t[1]),k.$set(o),35&e){let o;for(H=t[0],o=0;o<H.length;o+=1){const l=mt(t,H,o);W[o]?(W[o].p(l,e),S(W[o],1)):(W[o]=kt(l),W[o].c(),S(W[o],1),W[o].m(n,w))}for(M(),o=H.length;o<W.length;o+=1)B(o);F()}(!N||4&e)&&y(E,t[2])},i(t){if(!N){S(f.$$.fragment,t),S(k.$$.fragment,t);for(let t=0;t<H.length;t+=1)S(W[t]);S(L.$$.fragment,t),N=!0}},o(t){Z(f.$$.fragment,t),Z(k.$$.fragment,t),W=W.filter(Boolean);for(let t=0;t<W.length;t+=1)Z(W[t]);Z(L.$$.fragment,t),N=!1},d(t){t&&i(e),R(f),R(k),s(W,t),R(L),C=!1,T()}}}const wt=(t,e)=>[...t,...e.visibleFor];function bt(t,e,n){let o=[...ut],l=null,r=0;function a(){switch(n(2,r=0),l){case it.ALL:n(2,r+=100);break;case it.ALL_AT_ONCE:n(2,r+=200)}o.forEach((t=>{t.fields.forEach((t=>{t.specialFieldType===ct.RED_THREE?l===it.ALL||l===it.ALL_AT_ONCE||l===it.SOME?n(2,r+=4===t.count?800:100*t.count):n(2,r-=4===t.count?800:100*t.count):n(2,r+=t.count*t.score)}))}))}function c(t,e){n(0,o=o.map((n=>Object.assign(Object.assign({},n),{fields:n.fields.map((n=>n===t?Object.assign(Object.assign({},n),{count:e}):Object.assign({},n)))})))),a()}return[o,l,r,function(){n(1,l=null),o.forEach((t=>{t.fields.forEach((t=>{t.count=0}))})),a()},function(t){n(1,l=t.detail),l!==it.ALL&&l!==it.ALL_AT_ONCE||o.forEach((t=>{t.fields.forEach((t=>{t.score<0&&(t.count=0)}))})),l===it.NONE&&o.forEach((t=>{t.fields.forEach((t=>{t.score>0&&t.specialFieldType!==ct.RED_THREE&&(t.count=0)}))})),a()},c,(t,e)=>c(t,e.detail)]}class $t extends D{constructor(t){super(),B(this,t,bt,vt,r,{})}}function zt(e){let n,o,l;return o=new $t({}),{c(){n=u("main"),J(o.$$.fragment)},m(t,e){c(t,n,e),K(o,n,null),l=!0},p:t,i(t){l||(S(o.$$.fragment,t),l=!0)},o(t){Z(o.$$.fragment,t),l=!1},d(t){t&&i(n),R(o)}}}return new class extends D{constructor(t){super(),B(this,t,null,zt,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
